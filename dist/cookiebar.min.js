!function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,n){n(2),e.exports=n(1)},function(e,t,n){},function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e}var e,n,r;return e=t,(n=[{key:"set",value:function(e,t){var n="";if(t){var r=new Date;r.setTime(r.getTime()+24*t*60*60*1e3),n="; expires="+r.toUTCString()}document.cookie=this._name+"="+e+n+"; path=/"}},{key:"get",value:function(){for(var e=this._name+"=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var r=t[n];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return null}},{key:"delete",value:function(){document.cookie=this._name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}}])&&o(e.prototype,n),r&&o(e,r),t}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"addClass",value:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t}},{key:"removeClass",value:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"toggleClass",value:function(e,t){if(e.classList)e.classList.toggle(t);else{var n=e.className.split(" "),r=n.indexOf(t);0<=r?n.splice(r,1):n.push(t),e.className=n.join(" ")}}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}(),c=function(e){return!(!(r=e)||"object"!=typeof r||(t=e,"[object RegExp]"===(n=Object.prototype.toString.call(t))||"[object Date]"===n||t.$$typeof===l));var t,n,r};var l="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function u(e,t){return!1!==t.clone&&t.isMergeableObject(e)?f((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function _(e,t,n){return e.concat(t).map(function(e){return u(e,n)})}function f(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||_,n.isMergeableObject=n.isMergeableObject||c;var r,o,a,i,s=Array.isArray(t);return s===Array.isArray(e)?s?n.arrayMerge(e,t,n):(r=e,o=t,i={},(a=n).isMergeableObject(r)&&Object.keys(r).forEach(function(e){i[e]=u(r[e],a)}),Object.keys(o).forEach(function(e){a.isMergeableObject(o[e])&&r[e]?i[e]=f(r[e],o[e],a):i[e]=u(o[e],a)}),i):u(t,n)}f.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,t){return f(e,t,n)},{})};var b=f;function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}new(function(){function t(){var e=this;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._args={link:!1,link_blank:!1,accept:"Accept",reload_after_accept:!1,delay_show:500,accept_id:"js-cookie_bar--accept",more:"More",text:"This site uses cookies.",cookie:{name:"cookie_bar",expires:356},css:{file:"https://cdn.jsdelivr.net/npm/native-js-cookiebar@1.0.0/dist/cookiebar.min.css",parent:"",text:"",button:"",button_accept:"",button_more:"",animate:"cookie_bar--animate"},style:{bg:!1,color:!1},animation_speed:400,html:'<div class="cookie_bar__inner"##style.inner##><div class="cookie_bar__left"><span class="cookie_bar__text ##css.text##">##text##</span></div><div class="cookie_bar__right">##right_side##</div></div>'},this._callback="cookieBarRun",this._newArgs={},this._bar,this._buttonAccept,this._customEvent=this._addCustomEvent(),this._getCallback?(this._body=document.getElementsByTagName("body")[0],this._args=this._setArgs(),this._cookie=new a(this._args.cookie.name),1==this._cookie.get()?(window.dispatchEvent(this._customEvent),!1):void window.addEventListener("load",function(){e._runCookieBar()},!1)):(console.warn("Don't see init function: ".concat(this._callback,", or return value isn't object")),!1)}var e,n,r;return e=t,(n=[{key:"_runCookieBar",value:function(){var n=this;new Promise(function(e,t){n._addCSS(e)}).then(function(e){n._prepareBar(),n._body.appendChild(n._bar),n._setAcceptButton()&&(n._initEvents(),setTimeout(function(){n._showCookieBar()},n._args.delay_show))})}},{key:"_initEvents",value:function(){var e=this;this._buttonAccept.addEventListener("click",function(){e._cookie.set(1,e._args.cookie.expires),e._hideCookieBar(),setTimeout(function(){e._removeCookieBar()},e._args.animation_speed+50),e._args.reload_after_accept&&e._reloadPage(),window.dispatchEvent(e._customEvent)},!1)}},{key:"_addCustomEvent",value:function(){new Date;return new CustomEvent("cookieBarAccepted")}},{key:"_reloadPage",value:function(){location.reload()}},{key:"_showCookieBar",value:function(){s.addClass(this._bar,this._args.css.animate)}},{key:"_hideCookieBar",value:function(){s.removeClass(this._bar,this._args.css.animate)}},{key:"_removeCookieBar",value:function(){this._bar.parentNode.removeChild(this._bar)}},{key:"_setAcceptButton",value:function(){return this._buttonAccept=document.getElementById(this._args.accept_id),0!=this._buttonAccept.length||(console.warn("Can't init accept button: ".concat(this._args.accept_id)),!1)}},{key:"_prepareBar",value:function(){this._bar=document.createElement("div"),this._bar.className="cookie_bar ".concat(this._args.css.parent),this._bar.innerHTML=this._convertTemplateToHTML()}},{key:"_convertTemplateToHTML",value:function(){var e=this._args.html.replace("##css.text##",this._args.css.text).replace("##text##",this._args.text),t="";if(this._args.link&&(t+='<a href="'.concat(this._args.link,'" title="').concat(this._args.more,'" ').concat(this._args.link_blank?'target="_blank"':"",' rel="nofollow" class="cookie_bar__button cookie_bar__button--more ').concat(this._args.css.button_more,'">').concat(this._args.more,"</a>")),t+='<button id="'.concat(this._args.accept_id,'" class="cookie_bar__button cookie_bar__button--accept ').concat(this._args.css.button_accept,'">').concat(this._args.accept,"</button>"),e=e.replace("##right_side##",t),this._args.style.bg||this._args.style.color){var n='style="'.concat(this._args.style.bg?"background:"+this._args.style.bg+";":"").concat(this._args.style.color?" color:"+this._args.style.color+";":"",'"');e=e.replace("##style.inner##",n)}else e=e.replace("##style.inner##","");return e}},{key:"_addCSS",value:function(e){this._args.css.file||e("0");var t=document.createElement("link");t.rel="stylesheet",t.href=this._args.css.file,this._body.appendChild(t),t.addEventListener("load",function(){e("1")},!1)}},{key:"_setArgs",value:function(){return b.all([this._args,this._newArgs])}},{key:"_getCallback",value:function(){return("function"==typeof window[this._callback]||"object"===h(window[this._callback]()))&&(this._newArgs=window[this._callback](),!0)}}])&&d(e.prototype,n),r&&d(e,r),t}())}]);